"use client";

import { useEffect, useRef } from "react";
import { gsap } from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

gsap.registerPlugin(ScrollTrigger);

const ContactMainC = () => {
  const pathRef = useRef(null);

  useEffect(() => {
    const path = pathRef.current;
    const length = path.getTotalLength();

    gsap.set(path, {
      strokeDasharray: length,
      strokeDashoffset: length,
    });

    gsap.fromTo(
      path,
      { strokeDashoffset: length },
      {
        strokeDashoffset: 0,
        duration: 2.8,
        ease: "power1.inOut",
        scrollTrigger: {
          trigger: path,
          start: "top 80%", // animate when path enters 80% of viewport height
          toggleActions: "play none none reverse",
          // scrub: true, // if you want scroll-progress-based drawing
          // markers: true, // uncomment for debugging
        },
      }
    );
  }, []);

  return (
      <svg
        width="256"
        height="44"
        viewBox="0 0 256 44"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          ref={pathRef}
          d="M100.242 37.1945C101.737 37.0298 103.22 36.7412 104.721 36.7191C117.985 36.5528 131.284 36.6391 144.514 36.2392C154.878 35.9246 165.19 35.1241 175.484 34.366C187.297 33.4959 199.179 32.7558 210.812 31.3779C221.421 30.1188 232.151 28.8244 241.852 25.7862C243.05 25.4102 244.232 25.0196 245.382 24.5998C251.643 22.3034 250.158 19.2613 245.681 16.9097C239.903 13.8769 232.722 12.5267 225.497 11.3227C211.763 9.03124 197.775 7.68884 183.675 6.73816C159.704 5.12534 135.72 4.42919 111.668 4.60094C90.6484 4.74826 69.8226 5.82184 49.1529 7.73052C38.3983 8.72497 27.7314 10.0588 17.8307 12.7598C14.5464 13.6574 11.4685 14.9446 8.71519 16.3439C5.30772 18.0795 5.4929 20.4072 8.56428 22.4837C13.6937 25.9527 20.5437 27.8274 27.2889 29.7519C39.844 33.332 53.0055 35.8858 66.4275 37.8707C74.1167 39.0047 81.9421 39.7665 89.6911 40.7261C91.5767 40.9601 93.4278 41.3025 95.439 41.6201C86.1082 43.4887 77.035 41.8284 68.036 40.7541C55.353 39.2378 42.9495 37.0295 31.0635 33.8403C22.0637 31.4262 13.2365 28.7976 5.93534 24.7078C-1.11373 20.757 0.874142 15.9095 7.39594 13.0348C16.9006 8.84216 28.2846 7.20194 39.8265 5.9835C46.0493 5.32541 52.2798 4.68175 58.5469 4.17673C64.798 3.67609 71.0856 3.32358 77.3726 2.99482C78.9064 2.91175 80.5042 3.1675 81.3727 3.22098C83.3002 3.02354 84.6438 2.88853 85.9796 2.74383C88.0112 2.52981 90.2913 2.60665 92.1258 2.6351C94.8377 2.67448 97.6173 1.51812 100.574 2.69874C101.689 3.1428 103.905 2.52447 105.63 2.4791C110.037 2.35839 114.451 2.2711 118.865 2.19807C123.598 2.12296 128.341 1.99105 133.079 2.05384C135.926 2.09163 138.764 2.5473 141.618 2.6565C143.762 2.73968 145.923 2.4669 148.068 2.53583C151.568 2.64582 155.055 2.95982 158.555 3.07931C160.787 3.15503 163.208 2.6745 165.234 3.059C170.548 4.0617 175.935 3.69297 181.265 4.02136C187.774 4.41997 194.289 4.91373 200.753 5.57259C215.232 7.04521 229.793 8.43422 243.109 12.5927C245.683 13.3986 248.171 14.4875 250.176 15.741C256.594 19.7627 255.078 24.8967 247.11 27.5192C236.4 31.0424 224.724 32.8944 212.713 34.0354C197.303 35.5011 181.79 36.6413 166.351 38.0209C151.895 39.314 137.339 39.7591 122.691 39.3611C115.93 39.1752 109.186 38.5525 102.431 38.0959C101.706 38.0458 101.018 37.7875 100.311 37.6237C100.291 37.4807 100.27 37.3377 100.25 37.1947L100.242 37.1945Z"
          stroke="#FFD25D"
          strokeWidth="3.8"
        />
      </svg>
  );
};

export default ContactMainC;