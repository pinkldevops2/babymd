"use client";

import { useEffect, useRef } from "react";
import gsap from "gsap";
import { ScrollTrigger } from "gsap/ScrollTrigger";

gsap.registerPlugin(ScrollTrigger);

const MaskReveal4 = ({ className }) => {
  const pathRef = useRef(null);

    useEffect(() => {
    const path = pathRef.current;
    const length = path.getTotalLength();

    gsap.set(path, {
      strokeDasharray: length,
      strokeDashoffset: length,
    });

    gsap.fromTo(
      path,
      { strokeDashoffset: length },
      {
        strokeDashoffset: 0,
        duration: 3,
        //repeat: -1,
        ease: "power1.inOut",
      }
    );
  }, []);

  const pathData = `M55.856 41.4906C56.6442 41.2385 57.416 40.862 58.2175 40.7537C65.3053 39.8261 72.4304 39.1518 79.482 37.99C85.0056 37.0786 90.4643 35.6793 95.9171 34.3237C102.174 32.7681 108.478 31.3398 114.6 29.2812C120.184 27.4013 125.829 25.4789 130.791 21.8532C131.403 21.4047 132.006 20.9423 132.59 20.4521C135.767 17.7731 134.741 14.784 132.165 12.664C128.842 9.93021 124.895 8.97699 120.936 8.17406C113.411 6.64489 105.821 6.08932 98.2012 5.93607C85.2475 5.6789 72.3562 6.34882 59.4945 7.89966C48.2542 9.25217 37.1881 11.5296 26.269 14.642C20.5878 16.2627 14.9794 18.2214 9.88505 21.5178C8.19528 22.6129 6.6456 24.0899 5.27815 25.6615C3.58614 27.6106 3.86222 29.9521 5.66415 31.8746C8.67359 35.0865 12.4828 36.5886 16.2397 38.1471C23.2325 41.046 30.4718 42.873 37.8073 44.1102C42.0094 44.8158 46.2561 45.1375 50.477 45.6635C51.5041 45.792 52.521 46.032 53.6217 46.2378C48.7691 48.6604 43.7862 47.5021 38.8875 46.9318C31.9832 46.1258 25.1759 44.6046 18.571 42.0624C13.5701 40.1383 8.64514 37.9874 4.42601 34.2727C0.352389 30.6839 1.04794 25.6716 4.3204 22.3932C9.08934 17.6121 15.0584 15.3028 21.1439 13.4106C24.4249 12.3893 27.711 11.382 31.0273 10.5128C34.3354 9.64897 37.6742 8.93272 41.0145 8.24049C41.8293 8.06871 42.704 8.23566 43.1729 8.23997C44.1897 7.93008 44.8986 7.71671 45.6027 7.49399C46.6739 7.16138 47.9003 7.10846 48.8844 7.03217C50.339 6.91667 51.739 5.58898 53.4113 6.61272C54.0418 6.99762 55.1813 6.24586 56.1009 6.10126C58.4508 5.72692 60.8071 5.38594 63.1643 5.05938C65.6922 4.71244 68.2207 4.30758 70.7616 4.09972C72.2888 3.97485 73.8425 4.27281 75.3784 4.21974C76.5326 4.18101 77.6684 3.78163 78.8217 3.72848C80.7036 3.6392 82.5942 3.7568 84.4768 3.67713C85.6774 3.62583 86.9367 3.00162 88.0502 3.27417C90.9712 3.9831 93.8264 3.30206 96.7046 3.32868C100.219 3.35874 103.744 3.48462 107.254 3.7803C115.117 4.43931 123.016 5.00914 130.46 8.44892C131.9 9.11586 133.314 10.0738 134.483 11.2257C138.224 14.9222 137.803 20.1971 133.737 23.3034C128.272 27.4769 122.162 30.017 115.82 31.8578C107.683 34.2213 99.4656 36.2619 91.3061 38.5401C83.6665 40.6746 75.9088 41.9579 68.0378 42.3944C64.4042 42.5937 60.7472 42.3507 57.0964 42.2762C56.7045 42.267 56.3165 42.0454 55.926 41.9203C55.9041 41.777 55.8822 41.6337 55.8603 41.4903L55.856 41.4906Z`; // Truncated for brevity

  return (
    <svg
              viewBox="0 0 137 47"
              xmlns="http://www.w3.org/2000/svg"
              className={className}
            >
              <path
                ref={pathRef}
                d="M54.856 39.4906C55.6442 39.2385 56.416 38.862 57.2175 38.7537C64.3053 37.8261 71.4304 37.1518 78.482 35.99C84.0056 35.0786 89.4643 33.6793 94.9171 32.3237C101.174 30.7681 107.478 29.3398 113.6 27.2812C119.184 25.4013 124.829 23.4789 129.791 19.8532C130.403 19.4047 131.006 18.9423 131.59 18.4521C134.767 15.7731 133.741 12.784 131.165 10.664C127.842 7.93021 123.895 6.97699 119.936 6.17406C112.411 4.64489 104.821 4.08932 97.2012 3.93607C84.2474 3.6789 71.3562 4.34882 58.4945 5.89966C47.2542 7.25217 36.1881 9.52959 25.269 12.642C19.5878 14.2627 13.9794 16.2214 8.88505 19.5178C7.19528 20.6129 5.6456 22.0899 4.27815 23.6615C2.58614 25.6106 2.86222 27.9521 4.66415 29.8746C7.67359 33.0865 11.4828 34.5886 15.2397 36.1471C22.2325 39.046 29.4718 40.873 36.8073 42.1102C41.0094 42.8158 45.2561 43.1375 49.477 43.6635C50.5041 43.792 51.521 44.032 52.6217 44.2378C47.7691 46.6604 42.7862 45.5021 37.8875 44.9318C30.9832 44.1258 24.1759 42.6046 17.571 40.0624C12.5701 38.1383 7.64514 35.9874 3.42601 32.2727C-0.647611 28.6839 0.0479353 23.6716 3.3204 20.3932C8.08934 15.6121 14.0584 13.3028 20.1439 11.4106C23.4249 10.3893 26.711 9.38205 30.0273 8.51284C33.3354 7.64897 36.6742 6.93272 40.0145 6.24049C40.8293 6.06871 41.704 6.23566 42.1729 6.23997C43.1897 5.93008 43.8986 5.71671 44.6027 5.49399C45.6739 5.16138 46.9003 5.10846 47.8844 5.03217C49.339 4.91667 50.739 3.58898 52.4114 4.61272C53.0418 4.99762 54.1813 4.24586 55.1009 4.10126C57.4508 3.72692 59.8071 3.38594 62.1643 3.05938C64.6922 2.71244 67.2207 2.30758 69.7616 2.09972C71.2888 1.97485 72.8425 2.27281 74.3784 2.21974C75.5326 2.18101 76.6684 1.78163 77.8217 1.72848C79.7036 1.6392 81.5942 1.7568 83.4768 1.67713C84.6774 1.62583 85.9367 1.00162 87.0502 1.27417C89.9712 1.9831 92.8264 1.30206 95.7046 1.32868C99.2193 1.35874 102.744 1.48462 106.254 1.7803C114.117 2.43931 122.016 3.00914 129.46 6.44892C130.9 7.11586 132.314 8.07379 133.483 9.22565C137.224 12.9222 136.803 18.1971 132.737 21.3034C127.272 25.4769 121.162 28.017 114.82 29.8578C106.683 32.2213 98.4656 34.2619 90.3061 36.5401C82.6665 38.6746 74.9088 39.9579 67.0378 40.3944C63.4042 40.5937 59.7472 40.3507 56.0964 40.2762C55.7045 40.267 55.3165 40.0454 54.926 39.9203C54.9041 39.777 54.8822 39.6337 54.8603 39.4903L54.856 39.4906Z"
                fill="none"
                stroke="#FFD25D"
                strokeWidth={3}
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
  );
};

export default MaskReveal4;